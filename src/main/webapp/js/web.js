!function(){"use strict";function n(n){return""}function t(){return location}function e(){return window}function r(){return document}function i(){return navigator}function u(){var n=e();return n.XMLHttpRequest}function o(){var n=Bi.get(ti);if(n){var t=n.split("|");return{mis:t[0],env:t[1]||""}}return n||{}}function a(n){var t="v2/api/"+ni+"/validate",e="validate-ocean"+ei,r=0===I().indexOf("http:"),i=r?"http:":"https:",u=i+"//"+n+"/",a=j(),c=a.match(di)||[],f=o(),s=void 0,d=void 0;if(d=c&&c[1]||f.mis||""){Bi.set(ti,d+"|"+(s||""),li);var l=e;u=i+"//"+l+"/"+t+"?mis="+d}return u}function c(n){vi=n}function f(){return vi===Xt}function s(n){return pi&&!n||(pi=a(ri)),pi}function d(n){if(!hi||n){var t="wreport.meituan.net";hi=a(t)}return hi}function l(){}function v(n){return"undefined"==typeof n?"undefined":_i(n)}function p(n,t){return v(n)===t}function h(){return+new Date}function g(){return Math.random()}function m(n){return p(n,"number")}function _(n){return!n&&p(n,"object")}function y(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=void 0,r=void 0,i=void 0,u=void 0,o=void 0,a=void 0,c=void 0,f=void 0,s=0,d=0,l="",v=[];if(!n)return n;n=b(n);do e=n.charCodeAt(s++),r=n.charCodeAt(s++),i=n.charCodeAt(s++),f=e<<16|r<<8|i,u=f>>18&63,o=f>>12&63,a=f>>6&63,c=63&f,v[d++]=t.charAt(u)+t.charAt(o)+t.charAt(a)+t.charAt(c);while(s<n.length);switch(l=v.join(""),n.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}function b(n){n=(n+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var t="",e=void 0,r=void 0,i=0,u=void 0;for(e=r=0,i=n.length,u=0;u<i;u++){var o=n.charCodeAt(u),a=null;o<128?r++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),null!==a&&(r>e&&(t+=n.substring(e,r)),t+=a,e=r=u+1)}return r>e&&(t+=n.substring(e,n.length)),t}function w(n,t){var e=void 0,r=Vi.find(n,function(n){return Ti.attr(n,"name")===t});return r&&(e=Ti.attr(r,"content")),e}function x(){var n=bi[Qt];return bi[n]}function S(n){var t=void 0,e=Ji.get(),r=h();if(n&&e)t=e,Ji.update(r);else{var i=x(),u=bi.performance&&bi.performance.timing;t=u&&u.requestStart,t||(t=i?i.l:Di),Ji.update(r)}return r-t}function k(n){var t={duration:S(!0===n)},e=void 0,r=gi.quit,i=Ti.isFunc(r);return i&&(e=r()||{}),t=Ti.extend(t,e||{})}function q(n,t){!t[mr]}function A(n){return n<2036}function O(n){for(var t=n.length,e=t,r=0;r<t;r++){var i=n.charCodeAt(r);i>127&&e++}return A(1.5*e)}function I(){return wi.protocol}function j(){return wi.search}function C(n,t){var e=void 0,r=Gr+Ui++;if(t=t||0,!(t>2))return bi[r]=e=new Image,e.onload=function(){bi[r]=null},e.onabort=e.onerror=function(){bi[r]=null,C(n,++t)},e.src=n,e}function D(n,t,e,r,i,u,o){return function(a){if(!n){n=!0;try{if(t&&new Date-e<50)return;if(r)return;if(r=!1,!o()){var c=k();i("pageDisappear",c,{shouldStore:!0})}}catch(f){Li(f)}u&&u(a)}}}function E(n){if(!n)return Ai;var t=Ai,e=/^utm_(source|medium|term|content|campaign)$/;return Vi.each(n,function(n,r){e.test(r)&&(!t&&(t={}),t[r]=n)}),t}function F(){return"daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q m.baidu:word wap.baidu:word baidu:word Baidu:bs www.soso:w wap.soso:key www.sogou:query wap.sogou:keyword m.so:q m.sogou:keyword so.com:pq youdao:q sm.cn:q sm.cn:keyword haosou:q".split(" ")}function L(n){var t=Ti.parseQuery(n);return E(t)}function T(n){var t=Ai,e=n.match(/^[\w-]+:\/\/([^\/]+)(?:\/([^?]+)?)?/),r=e&&e[1];if(r){var i=Ti.parseQuery(n),u=F(),o="",a="";Vi.each(u,function(n){var t=n.split(":"),e=t[0],u=t[1],c=i[u],f=-1<e.indexOf(".")?e:"."+e+".";if(-1<r.indexOf(f.toLowerCase())&&(a=e,o=c))return!1}),a&&(t={},t[lu]=a,t[vu]="organic",o&&(t[pu]=o))}return t}function N(n){if(n){mu=n;var t=Ti.stringifyQuery(n);return Bi.del(Or,Si),Bi.top(Or,t,kr,Si),!0}return!1}function M(){var n=Bi.get(Or);if(!_e.test(n))return mu;var t=Ti.isStr(n)?Ti.parseQuery(n):null;return E(t)}function V(){var n=void 0,t=/(utmc(tr|sr|cn|md|ct))=([^|()]+)/g,e=Bi.get("__utmz"),r=e&&e.match(t);return r&&Vi.each(r,function(t){var e=t.split("="),r=e[0],i=void 0,u=e[1]||"";"utmcsr"===r?i=lu:"utmccn"===r?i=hu:"utmcmd"===r?i=vu:"utmcct"===r?i=gu:"utmctr"===r&&(i=pu),i&&(n=n||{},n[i]=u)}),n}function P(n,t){return(!mu&&!_u||n)&&(n=n||wi.href,t=t||xi.referrer,mu=L(n)||T(t),mu?N(mu):mu=M(),mu||(mu=V(),N(mu)),_u=Jt),mu}function R(n){return wu+n}function B(){return{length:0,_data:{},setItem:function(n,t){return this.length++,this._data[n]=String(t)},getItem:function(n){return this._data.hasOwnProperty(n)?this._data[n]:Ai},removeItem:function(n){return this.length--,delete this._data[n]},clear:function(){return this.length=0,this._data={}},key:function(n){var t=[],e=this._data;return Vi.each(e,function(n){Ti.hasOwn(e,n)&&t.push(n)}),t[n]}}}function J(n,t,e,r,i,u){var o={};o.c=n,o.k=t,o.v=e,o.t=r||+new Date,o.u=i||"",o.r=u||"",this.toJSON=function(){return Ti.extend(!0,{},o)}}function U(n){var t=Ti.now();return ju<t-n.t}function Q(n){return n}function X(n){try{n(H(this,Eu),H(this,Du))}catch(t){if(this._state===Fu)return z(new X(Q),Du,t)}}function H(n,t){return function(e){return z(n,t,e)}}function K(n,t,e,r){return v(e)===Lu&&(t._onFulfilled=e),v(r)===Lu&&(t._onRejected=r),n._state===Fu?n[n._pCount++]=t:$(n,t),t}function $(n,t){return setTimeout(function(){var e=void 0,r=n._state?t._onFulfilled:t._onRejected;if(void 0===r)return void z(t,n._state,n._value);try{e=r(n._value)}catch(i){return void z(t,Du,i)}Y(t,e)})}function z(n,t,e){if(n._state===Fu){n._state=t,n._value=e;for(var r=0,i=n._pCount;r<i;)$(n,n[r++]);return n}}function Y(n,t){if(t===n&&t)return void z(n,Du,new Error("promise_circular_chain"));var e=void 0,r=v(t);if(null===t||r!==Lu&&r!==Tu)z(n,Eu,t);else{try{e=t.then}catch(i){return void z(n,Du,i)}v(e)===Lu?G(n,t,e):z(n,Eu,t)}return n}function G(n,t,e){try{e.call(t,function(e){t&&(t=null,Y(n,e))},function(e){t&&(t=null,z(n,Du,e))})}catch(r){t&&(z(n,Du,r),t=null)}}function W(n,t){Vi.each(Vu,function(e){e(n,t)}),Vu=[]}function Z(n){var t=bi.KNB;if(du()){if(Wt===Zi)n(Ai,t);else if(Nu||Ru)n(Ru,t);else if(Vu.push(n),!Pu){Pu=!0;var e=ye(function(){Ru=we,W(we,t)},Mu);/meituan \d+/i.test(qi)||/meituangroup\/7\.([0-7])\./i.test(qi)?(Ru=Ae,W(Ae,t)):t.ready(function(){t.isApiSupported({apiName:"lxlog",success:function(n){!0===n?(Nu=!0,be(e),W(Ai,t)):(Ru=Ae,W(Ae,t))},fail:function(){be(e),Ru=ke,W(ke)}})})}}else n(qe,t)}function nn(n){var t={},e=n[ae],r=e&&"0"!==e;return r||"dp"!==n.type?n[ae]&&(t[ae]=n[ae]):t[ae]=n[te],"dp"!==n.type&&n[te]&&(t[te]=n[te]),n.unionId&&(t.unionId=n.unionId),n.userId&&(t.userId=n.userId),t}function tn(){return Uu?X.resolve(Uu):new X(function(n,t){Z(function(e,r){var i=bi.DPApp,u=ye(function(){n({})},Bu);r?r.ready(function(){r.use(Ju,{success:function(t){be(u),n(nn(t))},fail:function(n){be(u),t({code:Se})}})}):i&&i[Ju]?i.ready(function(){i[Ju]({success:function(t){be(u);var e={};(t.dpid||t.userId)&&(e.dpid=t.dpid,e.userId=t.userId,e.unionId=t.unionId),n(e)},fail:function(n){be(u),t({code:xe,res:n})}})}):t({code:xe})})})}function en(){return Bi.get(Cr)}function rn(n){n&&Bi.top(Cr,n,qr)}function un(){var n=en()||Qu();return rn(n),n}function on(){var n=Math.floor(1+65535*Ti.rnd());return n.toString(16).substring(1)}function an(){var n=[],t=+new Date;return n.push(t.toString(16)),n.push(on()),n.push(on()),n.push(on()),n.join("-")}function cn(){if(Ai!==Xu)return Xu;var n=xi.getElementsByTagName("meta");return Xu="off"===w(n,"lx:native-report")}function fn(){return Hu}function sn(n){cn()||(Hu=n)}function dn(n,t,e){return Z(function(r,i){if(r)return e(r);var u=(new Date,!1),o=ye(function(){u=!0,e(we)},Ku);i.use(n,{data:t,success:function(n){if(be(o),!u)if("success"===n.status){var t=n.data;try{Ti.isStr(t)&&(t=bu.parse(t)),e(Ai,t.data?t.data:n)}catch(r){}}else e(ke)},fail:function(){be(o),u||e(ke)}})})}function ln(n){var t=n.match(/(\d+)(?:\.(\d+)(?:\.(\d+))?)?/),e=[];if(t)for(var r=1;r<t.length;r++)e.push(parseInt(t[r]||0));return e}function vn(n,t){var e=ln(n),r=ln(t);return!(e[0]<r[0])&&(!(e[0]===r[0]&&e[1]<r[1])&&!(e[0]===r[0]&&e[1]===r[1]&&e[2]<r[2]))}function pn(){return 100*Ti.now()+to++}function hn(n){var t={cb:"_lx"+pn(),mn:n._mn,cn:n._cn,data:n._d||{},ver:4};return t}function gn(n,t,e,r){var i=this;i._cn=n,i._mn=t,i._d=e,i._cb=r}function mn(n,t,e,r){if(Be===zu||Je===zu)return r(zu);var i=new gn(n,t,e);if(Pe===zu)i.send(function(n,t){r(n,t)});else if(Re===zu){if(no.push([i,r]),!Yu){Yu=!0;var u=(new Date,new gn(n,$u,{}));u.send(function(n,t){if(n)zu=Be;else{if(zu=Pe,sn(yr),Ti.isStr(t))try{t=bu.parse(t)}catch(e){}eo=t;var r=t.sdk_ver;Gu=vn(r,"4.0.0"),Wu=vn(r,"4.3.0"),Zu=!vn(r,"4.8.0")}Vi.each(no,function(t){var e=t[0],r=t[1];n?r(n):e.send(function(n,t){r(n,t)})})})}}else r(Ue)}function _n(){return!Zu}function yn(){return Gu}function bn(){return Wu}function wn(n){var t=/(^\w+\.\d+\.\d+\.\d+\.\d+)/,e=/(^\w+-\w+-\w+-\w+-\w+)/;if(e.test(n)){var r=n.match(e);Bi.top(Ir,r[1],qr)}else n&&!t.test(n)&&n.length<100?Bi.top(Ir,n,qr):Bi.top(Ir,"",-1)}function xn(n,t,e){var r=[];return r.push(n?n:qn()),r.push(t?t:An()),r.push(e?e:On()),r.join(lo)}function Sn(n){var t=Bi.get(Er);return t?t.split(lo)[n]:""}function kn(n,t,e){Bi.top(Er,xn(n,t,e),Ar)}function qn(){return Sn(co)}function An(){return Sn(fo)}function On(){var n=0,t=Sn(so);return isNaN(t)||(n=parseInt(t)),n<0?0:n}function In(n){var t=On();return!0===n&&(t++,jn(t)),(!t||-1>t)&&(t=0,jn(t)),t}function jn(n){kn(Ai,Ai,n)}function Cn(n){var t={};if(_e.test(n)){var e=Ti.parseQuery(n);return e[te]&&(t[te]=e[te]),e[re]&&(t[re]=e[re]),e[oe]&&(t[ue]=e[oe]),t}return t}function Dn(n,t){return new X(function(e,r){ye(function(){r({code:we})},3e3),mn(n,"getEnv",{},function(n,i){if(n)r(n);else{var u={uuid:te,msid:ee,uid:ue,dpid:ae,appnm:ce,union_id:fe};t=t||{};for(var o in u){var a=u[o];i[o]&&(t[a]=i[o])}e(t)}})})}function En(){var n=Bi.get(Fr);if(n){var t=n.split(","),e=/^\d+\.\d{5,}$/;return 3!==t.length?null:e.test(t[0])&&e.test(t[1])?{lat:t[0],lng:t[1],tm:t[2]}:null}return null}function Fn(){var n=Bi.get(Ir),t=Bi.get("iuuid")||Bi.get("uuid")||n,e=qn(),r=An(),i=Bi.get(Dr)||Bi.get(ae),u={};return t&&(u[te]=t),e&&(u[ee]=e),n&&(u[ne]=n),r&&(u[ue]=r),i&&(u[ae]=i),u}function Ln(n){ao.push(n)}function Tn(n){return Ti.extend(!0,{},n)}function Nn(n){var t=xi.getElementsByTagName("meta"),e=w(t,"lx:appnm"),r=w(t,"lx:defaultAppnm"),i=Zi,u=xi.domain,o=fn();return tu?($i(Zi||e||r||u),e?2===o?e:e:2===o?n:i?i:r?r:u):e?e:i?i:r?r:u}function Mn(){var n=Zi===Gt||Zi===$t,t=Fn(),e=void 0,r={};n&&(r=Cn(wi.href)),e=Ti.extend(t,r),e.ct=ru;var i=P();i&&(e[ie]=i);var u=un();e[ne]=u,e[te]||(e[te]=u),e[ee]||(e[ee]=an(),kn(e[ee],e.uid||"")),e[te]&&wn(e[te]);var o=Nn();return Ti.isStr(o)&&(e[ce]=o),e}function Vn(n){return function(t){var e=t;return n!==t&&(e=Ti.extend(n,t)),e.dpid&&e.uid?e:tn().then(function(n){var t={};return n.dpid&&(t.dpid=n.dpid,n.userId&&(t.uid=""+n.userId),n.unionId&&(t.union_id=n.unionId)),e=Ti.extend(e,t)},function(n){return e})}}function Pn(n){var t=Mn();if(n&&Zi||du()){var e=Dn(n,t),r=Kt===Zi;return r&&(e=e.then(Vn(t),function(n){return Vn(t)()})),e.then(function(n){var e=Nn(n[ce]),r=n[ae],i=n[te],u=n[fe],o=n;return n!==t&&(o=Ti.extend(t,n)),Ti.isStr(e)&&(o[ce]=e),i&&wn(i),r&&Bi.top(Dr,r,qr),u&&Bi.top(jr,u,qr),o},function(n){return t})}var i=Tn(t);return X.resolve(i)}function Rn(n){return Sr===oo?X.resolve(Tn(uo)):xr===oo?new X(function(n){Ln(function(t){n(t)})}):(oo=xr,Pn(n).then(function(n){return uo=Ti.extend(!0,{},n||{}),oo=Sr,Vi.each(ao,function(t,e){Ti.isFunc(t)&&ao[e](n)}),n}))}function Bn(n,t,e,r,i){var u=[{project:"web-lx-sdk",pageUrl:wi.href,resourceUrl:n,category:i?"jsError":"ajaxError",sec_category:t,level:"error",unionId:e,timestamp:Ti.now(),content:""+r||""}],o=zn("//catfront.dianping.com/api/log?v=1","application/x-www-form-urlencoded");o&&(o.onerror=o.onreadystatechange=function(){},o.send("c="+encodeURIComponent(bu.stringify(u))))}function Jn(n,t){if(wo>=vo)return!1;t=Ti.extend({cb:l},t||{});var e=s(),r=(t.nm,!gi.use_post),i=r&&!0;try{i&&Un(n)?t.cb(Pe):Hn(e,n,t)||iu&&Xn(e,n,t)||Qn(e,n)&&t.cb(Pe)}catch(u){return Bn(wi.path,"report-ajax",0,u.message,!0),!1}return!0}function Un(n){var t=void 0,e="d",r="t",i="r",u=Gn(n);if(Vi.each(u,function(n){delete n.ua}),t=bu.stringify(u),!O(t))return Vi.each(n,function(n){Vi.each(n.evs,function(n){var t=Ti.extend(!0,{custom:{_s:1}},n.val_lab||{});n.val_lab=t})}),!1;var o=y(t),a=Ci(o),c=d();return c+=-1<c.indexOf("?")?"&"+e+"="+a:"?"+e+"="+a,c=c+"&"+r+"=1&"+i+"="+(mo++).toString(16),C(c),!0}function Qn(n,t){var e=ki.sendBeacon;return!!e&&(n=$n(n),e&&e.call(ki,n,bu.stringify(t)))}function Xn(n,t,e,r){if(!bi.XDomainRequest)return!1;try{var i=new XDomainRequest;return i.open(Zr,$n(n),!0),i.onload=function(){wo=0,e&&e.cb(Pe),yo=[]},i.onerror=function(){wo++},i.ontimeout=function(){wo++,r||(Kn(n,t,Xn,e),_o=!0)},i.timeout=ho,i.send(bu.stringify(t)),!0}catch(u){return!1}}function Hn(n,t,e,r,i){if(!si())return!1;try{var u=zn(n,"text/plain");return u.onreadystatechange=function(){if(4===u.readyState){var o=u.status;o>=200?(wo=0,e&&e.cb(Pe),yo=[]):(wo++,r||!1!==i||(Kn(n,t,Hn,e),_o=!0)),e.nm===Qe&&(400<=o||0===o)&&Bn(n,"web-report-fail",t[0].union_id,o),u.onreadystatechange=null}},u.onerror=function(){u.abort(),wo++},u.send(bu.stringify(t)),!0}catch(o){return!1}}function Kn(n,t,e,r){yo=yo.concat(t);var i=void 0,u=Vi.reduce(yo,function(n,t){return t.evs=n.evs.concat(t.evs),i=t.evs.length,i>po&&Vi.slice(t.evs,i-po,i),t});if(yo=[u],bo.push(r),!_o)var o=setInterval(function(){return wo>=vo?(clearInterval(o),!1):void e(n,yo,function(n){clearInterval(o),_o=!1,Vi.each(bo,function(t){t&&t(n)})},!0)},go)}function $n(n){var t="_lxsdk_rnd="+(mo++).toString(16);return-1===n.indexOf("?")?n+"?"+t:n+"&"+t}function zn(n,t){var e=u(),r=new e;return r.open(Zr,$n(n),!0),r.timeout=ho,r.setRequestHeader("Content-Type",t),r}function Yn(n,t,e){return Fi.call(n,t)&&n[t]&&(n[e]=n[t],delete n[t]),n}function Gn(n){var t=[],e=[{l:Jr,s:Ur},{l:Lr,s:Tr},{l:Nr,s:Mr},{l:Vr,s:Pr},{l:Qr,s:Xr},{l:Rr,s:Br}];return Vi.each(n,function(n){var r=Ti.extend(!0,{},n);Vi.each(e,function(n){Yn(r,n.l,n.s)}),Vi.each(n.evs,function(n){n=Ti.extend(!0,{},n),Vi.each(n,function(t,e){if(-1<e.indexOf("val_")&&(n[e.replace("val_","")]=n[e],delete n[e]),Yn(n,"refer_url","urlr"),n[e]&&"url"===e){var r=wi.hash;r&&(n.urlh=r),delete n[e]}})}),r[Xr]===r.uuid&&delete r.uuid,r[Mr]=r[Mr].replace("data_sdk_",""),t.push(r)}),t}function Wn(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function Zn(){return Wn()+"."+Math.round(+new Date/1e3)}function nt(){var n=Bi.get(So);if(n||(n=Zn(),Bi.top(So,n,ko)),n){var t=n.match(xo);return t?t[1]:""}return""}function tt(){return!qo&&Ao&&(qo=nt()),qo}function et(n){var t=this;t.s=n;var e=void 0,r=Su.get(Yr)||{s:n,d:t.d};r.s!==n?(Su.del(Yr),e=t.d=[]):e=t.d=r.d||[],t.l=e&&e.length||0}function rt(n){return Io||(Io=new et(n)),Io}function it(){return Io}function ut(n,t){var e=this;e.env=t||{},e.opts=Ti.extend(!0,{},n),Bo.push(e)}function ot(n){return n._ptpvs===Ie}function at(){return!Xo}function ct(n){return n=n||{},n&&!Ti.isObj(n)&&(n={cid:""+n}),n}function ft(){return Qo||(Qo=pt()),Qo}function st(){return Qo=pt()}function dt(){var n=Su.get(se);return n&&Su.del(se),n}function lt(n,t){return Ti.isObj(n[Hr])||(n[Hr]={}),n[Hr][Mo]=t,n}function vt(n){return!(!Ti.isStr(n)&&!n.length)}function pt(){return Ti.now().toString(16)+"-"+Math.floor(65535*Ti.rnd())+"-"+Math.floor(65535*Ti.rnd())}function ht(n){var t={};return t[Ye]="order",t[Ge]="pay",t[He]="click",t[ze]="return",t[$e]="view",t[Ke]="click",t[n]}function gt(n){var t=n.nm;Qe===t?(n.nm="mpt",n.val_act="pageview"):Xe===t?(n.nm="report",n.val_act="quit"):(n.nm="mge",n.event_type=ht(t)||t),n.nt=0,n.isauto=8}function mt(n){var t="data_sdk_";return 0!==n.indexOf(t)&&(n=t+n),n}function _t(n){var t="data_sdk_";return 0===n.indexOf(t)&&(n=n.replace(jo,"")),n}function yt(n){var t=Ti.extend(!0,{},n.env);t[jo]=mt(t[jo]);var e=t.utm,r={ua:Yi,sdk_ver:Zt,ch:e&&e.utm_source?e.utm_source:"web",sc:fu};return r[Jr]=Zt,Ti.extend(!0,r,t)}function bt(n){var t=it(),e=t.toJSON();return e&&(n[Vo]=e),n}function wt(n){return n&&n.custom&&"v3"===n.custom._api}function xt(n,t,e,r,i){i=i||Oe;var u=In(!0),o=En(),a=void 0,c=Qe===n,f=Ye===n,s=Ge===n,d={nm:n,tm:Ti.now(),nt:br,isauto:i,val_cid:t,req_id:ft(),seq:u};if(c){var l=wi.href;d.url=l,a=Jo,a&&(d.refer_url=a),i===Oe&&(Jo=l)}return(f||c||s)&&nu&&(d=bt(d)),r=Ho(r,"_hguid",tt()),wt(r)&&!t&&(d.val_cid=xi.title||wi.pathname,r=Ho(r,"_cid",1)),c&&(r=Ho(r,"_hpid",Oo())),e&&(d[No]=e),r&&(d[Hr]=r),o&&(d[Po]=o.lat,d[Ro]=o.lng),d}function St(n,t,e,r,i){var u=xt(n,t,e,r,i);return kt(u)}function kt(n){if(Uo&&0<Uo.length){var t=Uo;return Uo=[],t.push(n),t}return[n]}function qt(n){return eu?n:Wi&&_n()?n:Ci(n)}function At(n,t,e,r,i,u){u=u||{},i=i||Oe;var o=this,a=o.env.appnm,c=En(),f=void 0,s={nm:n,tm:Ti.now(),nt:yr,isauto:i,val_cid:t};u.sf&&(s._sf=u.sf);var d=void 0,l=Ti.extend(!0,{},r||{}),v=Qe===n;if(v){var p=qt(wi.href);d={ua:Yi,url:p};var h=P();h&&h.utm_source&&(d.utm=h),f=Jo,f&&(d.refer_url=qt(f)),i===Oe&&(Jo=p)}else d={};return Vi.each({web_req_id:ft(),web_sdk_ver:Zt,lxcuid:un(),web_appnm:a},function(n,t){Ti.isStr(n)&&(d[t]=n)}),u.cpi&&!l.page&&(l.page=u.cpi),l.custom=Ti.extend(!0,l.custom,d),l=Ho(l,"_hguid",tt()),v&&(l=Ho(l,"_hpid",Oo())),n!==Ke||bn()?yn()||gt(s):yn()?s.nm=He:gt(s),s[Hr]=l,c&&(s[Po]=c.lat,s[Ro]=c.lng),e&&(s[No]=e),v&&!yn()&&(s.val_val=l,delete s[Hr]),s}function Ot(n){return n}function It(n,t,e){return Vi.isArrayLike(t)||(t=[t]),Ti.run(t,function(n){n&&e&&(n.tag=e)}),n.evs=t,n}function jt(n){return Wr[n]}function Ct(n,t){var e={};return e[mr]=t,Ti.extend(e,n)}function Dt(n,t,e){var r=null;return!Ti.isStr(n)||t||e?Ti.isObj(n)&&Ti.isStr(t)&&!e&&(r=t,t=null):(r=n,n=null),r&&(e=Ti.extend({cid:r},e||{})),{lab:n,env:t,opts:e}}function Et(n,t,e,r){var i=Dt(t,e,r),u=i.lab,o=i.env,a=i.opts;r=ct(a);var c=r.cid||n.opts.cid;r=Ti.extend({cid:c},r),o&&Ti.isObj(o)&&Vi.each(o,function(t,e){n._dt.set(e,t)}),n._dt.pageView(u,r)}function Ft(n,t){this.env=n||{},this.opts=t||{},this._t=[]}function Lt(n,t){return{cb:n,cmd:t}}function Tt(n,t){if(Sr===Yo)n&&n(Go);else if(xr===Yo)n&&zo.push(Lt(n,t));else{Ti.now();zo=zo.concat(Lt(n,t));var e=xi.getElementsByTagName("meta"),r=w(e,"lx:cid"),i=w(e,"lx:category")||gi.cid;if(!i)return void(Yo=wr);Yo=xr;var u=w(e,"lx:mvDelay");u=isNaN(u)?0:parseInt(u,10);var o="off"!==w(e,"lx:autopv");Rn(i).then(function(n){var t=n.appnm;!Ti.isStr(t)||t===xi.domain,Go=new Ft(n,{cid:r,isDefault:!0,mvDelay:u}),i&&Go.create(i,{isDefault:!0}),n=Ti.extend(!0,Go._dt.env,n),Go._dt.env=n;try{var e=[];Vi.each(zo,function(t){var r=t.cb,i=t.cmd;"config"===i||"set"===i?r(Go,n):e.push(t)}),nu&&rt(n.msid),o&&i&&r&&r&&Go._initPV(n,r),Vi.each(e,function(t){var e=t.cb;e(Go,n)})}catch(a){}}).then(function(){Yo=Sr},function(n){throw Yo=Sr,n})}}function Nt(n){n=ca(n,n.val);var t=la(n,!0);return[fr,t,null,n[or]]}function Mt(n){var t=ra(n);n=t[0];var e=void 0;return t[1]&&(e=t[1]),[n,e]}function Vt(n,t,e,r,i){if(Ti.isFunc(t))t.call(n,n,r,i);else if(!i&&Ti.isStr(t)&&Ti.isFunc(n[t]))return n[t].apply(n,e)}function Pt(){if(!ka){ka=!0;var n=void 0,t=void 0;iu&&Ti.on(xi,"mouseup",function(t){var e=t.target||t.srcElement,r=e.tagName+e.href;r=r.toLocaleLowerCase(),1===e.nodeType&&/^ajavascript:/i.test(r)&&(n=new Date)});var e=!1,r=bi.onbeforeunload;nu&&eu?bi.addEventListener("pagehide",D(e,iu,n,t,Bt,Ai,f)):bi.onbeforeunload=D(e,iu,n,t,Bt,r,f)}}function Rt(){function n(){var n=x();n&&(n.q.push=function v(n){try{var u=_a(n),o=u?u[0]:"";if(Vi.isArray(o))return void Pi(u,function(n){v(n)});"start"===o?(e=!0,r||t(i)):!1===e?u&&i.push(u):Bt.apply(Ai,u)}catch(a){try{Bn("sdk","api-error","",a.stack,!0)}catch(a){Li(a)}}});for(var u=void 0,o=void 0,a=[],c=[],f=[],s=n&&Vi.isArray(n.q)?n.q:[],d=0,l=s.length;d<l;d++)o=s[d][0],"config"===o?c.push(s[d]):u||"use"!==o?f.push(s[d]):(a.push(s[d]),u=!0);return s=c.concat(a.concat(f))}function t(n){r||(n&&Vi.each(n,function(n){var t=_a(n),e=t?t[0]:"";return Vi.isArray(e)?void Pi(t,function(n){Bt.apply(Ai,n)}):void(e&&Bt.apply(Ai,t))}),Bt(function(){Pt()}),r=!0)}var e=!0,r=!1,i=n();if(0===i.length)Tt(function(n){Sa=n,Pt()});else try{i=Ri(i,function(n){var t=_a(n),r=t?t[0]:"";if("config"===r){var i=t[1],u=t[2];"autoStart"===i&&!1===u&&(e=!1)}return t}),e&&t(i)}catch(u){Li(u)}}function Bt(n){var t=arguments;if(t.length){var e=Vi.slice(t,1,t.length);try{Sa?Vt(Sa,n,e,Sa._dt?Sa._dt.env:null):Tt(function(t,r,i){Sa=t,Vt(t,n,e,r,i),Pt()},n)}catch(r){Li(r);try{Bn("sdk","api-error","",r.stack,!0)}catch(r){Li(r)}}}}var Jt=!0,Ut=!1,Qt="_MeiTuanALogObject",Xt=1,Ht=0,Kt="dianping_nova",$t="waimai",zt="moviepro",Yt="movie",Gt="group",Wt="demo",Zt="4.6.9",ne="lxcuid",te="uuid",ee="msid",re="cityid",ie="utm",ue="uid",oe="userid",ae="dpid",ce="appnm",fe="union_id",se="pd_data",de=/dp\/com\.dianping\.[\w.]+\/([\d.]+)/i,le=/\bmeituanwaimai-c\/\d+\./i,ve=/\bmoviepro/i,pe=/\bmaoyan\b/i,he=/\bmeituan \d+|meituangroup\/\d+\./i,ge=/\bandroid|mobile\b|\bhtc\b/i,me=/\btitans(no){0,1}x\b/i,_e=/^(([^? \r\n]*)\?)?([^?# \r\n]+)(#\S+)?$/,ye=setTimeout,be=clearTimeout,we=1,xe=2,Se=3,ke=4,qe=5,Ae=6,Oe=7,Ie=6,je=/android/i,Ce=/iphone/i,De=/ipad/i,Ee="android",Fe="iphone",Le="ipad",Te="www",Ne="i",Me="statistics://_lx/?data=",Ve="lxlog",Pe=200,Re=100,Be=500,Je=600,Ue=-1,Qe="PV",Xe="PD",He="MC",Ke="SC",$e="MV",ze="ME",Ye="BO",Ge="BP",We="click",Ze="tap",nr="view",tr="return",er="order",rr="pay",ir="event_type",ur="val_act",or="val_cid",ar="index",cr="element_id",fr="pageView",sr="pageDisappear",dr="systemCheck",lr="moduleView",vr="moduleClick",pr="moduleEdit",hr=er,gr=rr,mr="order_id",_r=1e3,yr=2,br=0,wr=-1,xr=0,Sr=1,kr=10080,qr=1576800,Ar=30,Or="_lx_utm",Ir="_lxsdk",jr="_lxsdk_unoinid",Cr="_lxsdk_cuid",Dr="_lxsdk_dpid",Er="_lxsdk_s",Fr="latlng",Lr="msid",Tr="ms",Nr="category",Mr="c",Vr="login_type",Pr="lt",Rr="locate_city_id",Br="lci",Jr="sdk_ver",Ur="sv",Qr="lxcuid",Xr="lxid",Hr="val_lab",Kr="val_bid",$r="val_val",zr="custom",Yr="sf",Gr="__$lx_beacon_",Wr={union_id:Jt,lxcuid:Jt,app:Jt,sdk_ver:Jt,appnm:Jt,ch:Jt,lch:Jt,ct:Jt,did:Jt,dm:Jt,ua:Jt,msid:Jt,uuid:Jt,lat:Jt,log:Jt,net:Jt,os:Jt,idfa:Jt,pushid:Jt,subcid:Jt,mac:Jt,imsi:Jt,uid:Jt,logintype:Jt,cityid:Jt,apn:Jt,mno:Jt,pushSetting:Jt,wifi:Jt,bht:Jt,ip:Jt,vendorid:Jt,geohash:Jt,dtk:Jt,sns:Jt,android_id:Jt,version_code:Jt,brand:Jt,utm:Jt},Zr="post",ni="validation",ti="__lx"+ni,ei=".sankuai.com",ri="report.meituan.com",ii="send",ui="use",oi="event",ai="mge",ci="mpt",fi="report",si=function(){var n=u(),t=n&&"withCredentials"in new n;return function(){return t}}(),di=/__lxvalidation=([\w.]+)/i,li=10,vi=!1,pi=void 0,hi=void 0,gi={pageValLab:null,pageEnv:null,use_post:!1,cid:null,appnm:null,quit:null},mi=[];gi.on=function(n,t){mi.push({name:n,fn:t})},gi.emit=function(n,t,e,r,i){Vi.each(mi,function(u){var o=u.name,a=u.fn;o===n&&a(t,e,r,i)})};var _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yi=1e3,bi=e(),wi=t(),xi=r(),Si=xi.domain,ki=i(),qi=ki.userAgent.toString(),Ai=void 0,Oi=Array.prototype,Ii=Object.prototype,ji=decodeURIComponent,Ci=encodeURIComponent,Di=h(),Ei=Ii.toString,Fi=Ii.hasOwnProperty,Li=function(){var n=Vi.toArray(arguments);n.unshift("[LX SDK]"),bi.console&&void 0},Ti={};Ti.trim=function(n){return n.replace(/^[\s\uFEFF\xA0\u3000]+|[\s\uFEFF\xA0\u3000]+$/g,"")},Ti.now=h,Ti.rnd=g,Ti.hasOwn=function(n,t){return Fi.call(n,t)},Ti.extend=function qa(n,t,e){var r=void 0,i=!0===n;return i||(e=t,t=n),t&&Ti.isObj(t)||(t={}),e&&Ti.isObj(e)||(e={}),Vi.each(e,function(n,u){i&&Ti.isObj(e[u])?(r=t[u],t[u]=Ti.isObj(r)?r:{},qa(i,t[u],e[u])):t[u]=e[u]}),t};var Ni=function(n){return n&&"[object Object]"===Ei.call(n)};Ti.isObj=Ni;var Mi=function(n){return p(n,"string")};Ti.isStr=Mi,Ti.isFunc=function(n){return p(n,"function")},Ti.attr=function(n,t){return n.getAttribute(t)},Ti.parseQuery=function(n){var t={};if(n){var e=n.replace(_e,function(n,t,e,r){return r||""}).split("&");return Vi.each(e,function(n){var e=n.split("="),r=e[0],i=e[1]||"";r&&!Fi.call(t,r)&&(t[r]=ji(i))}),t}},Ti.stringifyQuery=function(n){var t=[];return Ti.isObj(n)&&Vi.each(n,function(n,e){Ti.isFunc(n)||((Ai===n||_(n))&&(n=n||""),t.push(Ci(e)+"="+Ci(n)))}),t.join("&")},Ti.genReqId=function(){return""+h()*yi+parseInt(g()*yi)},Ti.run=function(n,t){Vi.isArrayLike(n)?Vi.each(n,t):t(n)},Ti.on=function(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e)},Ti.off=function(n,t,e){n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e)};var Vi={};Vi.isArray=function(n){return"[object Array]"===Ei.call(n)},Vi.isArrayLike=function(n){if(!n)return!1;var t=n.length;return!!Vi.isArray(n)||!!(n&&m(t)&&t>=0)&&(!Ti.isObj(n)||(!(t>1)||t-1 in n))},Vi.find=function(n,t,e){var r=void 0;return Vi.isArrayLike(n)&&Vi.each(n,function(i,u){if(!0===t.call(e,i,u,n))return r=i,!1}),r},Vi.filter=function(n,t,e){var r=[];return Vi.isArrayLike(n)&&Vi.each(n,function(i,u){t.call(e,i,u,n)&&r.push(i)}),r},Vi.toArray=function(n,t,e){var r=[];return Vi.isArrayLike(n)&&Vi.each(n,function(n){r.push(t?t.call(e,n):n)},e),r};var Pi=function(n,t,e){if(n){var r=void 0,i=void 0,u=void 0,o=void 0,a=!1;if(Vi.isArrayLike(n))for(i=0,u=n.length;i<u&&(o=t.call(e,n[i],i,n),a!==o);i++);else for(r in n)if(Ti.hasOwn(n,r)&&(o=t.call(e,n[r],r,n),a===o))break}};Vi.each=Pi;var Ri=function(n,t,e){if(n){for(var r=[],i=0,u=n.length;i<u;i++){var o=t.call(e,n[i],i,n);r.push(o)}return r}};Vi.slice=function(n,t,e){return Oi.slice.call(Vi.toArray(n),t,e)},Vi.reduce=function(n,t){if(Vi.isArrayLike(n)&&Ti.isFunc(t)){var e=n,r=e.length>>>0,i=0,u=void 0;if(3===arguments.length)u=arguments[2];else{for(;i<r&&!(i in e);)i++;if(i>=r)return;u=e[i++]}for(;i<r;)i in e&&(u=t(u,e[i],i,e)),i++;return u}};var Bi={};Bi.del=function(n,t){var e=n+"=;path=/;domain="+t,r=new Date;return r.setFullYear(1970),e+=";expires="+r.toUTCString(),xi.cookie=e,!0},Bi.get=function(n){var t=xi.cookie.match(new RegExp("(?:^|;)\\s*"+n+"=([^;]+)"));return ji(t?t[1]:"")},Bi.set=function(n,t,e,r){r=r||xi.domain;var i=void 0,u=void 0,o=void 0,a=n+"="+Ci(t)+";path=/;domain="+r;Ai===e||isNaN(e)||(i=new Date,u=60*parseInt(e,10)*1e3,o=i.getTime()+u,i.setTime(o),a+=";expires="+i.toUTCString());try{return xi.cookie=a,!0}catch(c){return!1}},Bi.top=function(n,t,e){var r=xi.domain,i=r.split("."),u=i.length,o=u-1,a=void 0,c=!1;for(t=""+t;!c&&o>=0&&(r=i.slice(o,u).join("."),Bi.set(n,t,e,r),a=Bi.get(n),Ai!==a&&(c=a===t),o--,!c););},Bi.del=function(n){return Bi.top(n,"",-100)};var Ji=function(){var n=void 0;return{update:function(t){n=t},get:function(){return n}}}(),Ui=0,Qi=4,Xi="",Hi=function(n){Qi=n},Ki=function(){return Xi&&3===Qi},$i=function(n){Xi=n},zi=function(){return Xi},Yi=qi,Gi=[{n:Wt,r:/lingxi\/demo\/\d+/i,v:Yi},{n:Kt,r:de,v:Yi},{n:$t,r:le,v:Yi},{n:zt,r:ve,v:Yi},{n:Yt,r:pe,v:Yi},{n:Gt,r:he,v:Yi}],Wi=/android/i.test(Yi),Zi="",nu=Wi,tu=!1,eu=!1,ru=Te,iu=!1,uu=-1;if(ge.test(Yi)){ru=Ne,nu=!0,Vi.each(Gi,function(n){if(n.r.test(n.v))return Zi=n.n,!1}),me.test(Yi)&&(tu=!0);var ou=Ce.test(Yi),au=De.test(Yi);(ou||au)&&(eu=!0),Zi&&(ou?ru=Fe:je.test(Yi)?ru=Ee:au&&(ru=Le))}else{var cu=Yi.match(/(msie) (\d+)|Trident\/(d+)/i);cu&&(iu=!0,cu&&(uu=parseInt(cu[2],10)))}var fu=bi.screen.width+"*"+bi.screen.height,su=tu||/ knb\/\d+/i.test(qi),du=function(){var n=bi.KNB;return nu&&su&&n&&n.isApiSupported},lu=ie+"_source",vu=ie+"_medium",pu=ie+"_term",hu=ie+"_campaign",gu=ie+"_content",mu=void 0,_u=Ut,yu=bi.JSON;yu||(yu={parse:function(n){return new Function("return ("+n+")")()},stringify:function(){var n=Vi.isArray,t={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},e=function(n){return t[n]||"\\u"+(n.charCodeAt(0)+65536).toString(16).substr(1)},r=/[\\"\u0000-\u001F\u2028\u2029]/g;return function i(t){if(null==t)return"null";if(p(t,"number"))return isFinite(t)?t.toString():"null";if(p(t,"boolean"))return t.toString();if(p(t,"object")){if("function"===v(t.toJSON))return i(t.toJSON());if(n(t)){for(var u="[",o=0;o<t.length;o++)u+=(o?", ":"")+i(t[o]);return u+"]"}if(Ti.isObj(t)){var a=[];for(var c in t)t.hasOwnProperty(c)&&a.push(i(c)+": "+i(t[c]));return"{"+a.join(", ")+"}"}}return'"'+t.toString().replace(r,e)+'"'}}()});var bu=yu,wu="__lxsdk_",xu=bi.localStorage,Su={get:function(n){n=R(n);var t=xu.getItem(n);return t=Ai!==t?bu.parse(t):t},set:function(n,t){return Su.del(n),xu.setItem(R(n),bu.stringify(t))},keys:function Aa(){for(var Aa=[],n=void 0,t=0;t<xu.length;t++)n=xu.key(t),0===n.indexOf(wu)&&Aa.push(n.replace(wu,""));return Aa},del:function(n){try{return xu.removeItem(R(n))}catch(t){}},clear:function(){for(var n=this.keys(),t=0;t<n.length;t++)this.del(n[t])}};if(xu){if(xu){var ku="___lxtest";Su.nt=!0;try{Su.set(ku,1);var qu=Su.get(ku);1!==qu?Su.clear():Su.del(ku)}catch(Au){try{Su.clear(),xu.setItem(ku,1),xu.removeItem(ku)}catch(Au){xu=B(),Su.nt=!1}}}}else xu=B(),Su.nt=!1;var Ou="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Iu="tag",ju=18e5,Cu={set:function(n,t,e){var r=void 0,i=[],u=Su.get(Iu)||[];if(-1===Ou.indexOf(t))return!1;for(var o=0,a=u.length;o<a;o++)r=u[o],U(r)||(n===r.c?t!==r.k&&i.push(r):i.push(r));return r=new J(n,t,e,(+new Date)),i.push(r.toJSON()),Su.set(Iu,i),!0},get:function(n,t){var e=void 0,r=Su.get(Iu);if(r&&r.length)return e={},Vi.each(r,function(n){var t={};t[n.k]=n.v,U(n)||(e[n.c]=Ti.extend(!0,e[n.c]||{},t))}),n&&t?e[n]&&e[n][t]:n?e[n]:e},getAll:function(){var n=Su.get(Iu),t={},e=void 0;return Vi.each(n,function(n){var r=void 0;!U(n)&&n.v&&(e=!0,r={},r[n.k]=n.v,t[n.c]=Ti.extend(!0,t[n.c],r))}),e&&t},clear:function(n,t){var e=arguments.length;if(!e)return Su.set(Iu,[]);if(Ti.isStr(n)){var r=Su.get(Iu),i=[];Vi.each(r,function(e){(t!==Ai&&e.k!==t||n!==e.c)&&i.push(e)}),Su.set(Iu,i)}}};X.prototype.then=function(n,t){return K(this,new X(Q),n,t)},X.all=function(n){return new X(function(t,e){for(var r=0,i=n.length,u=[],o=0,a=void 0,c=function(n){var t=[];for(r=0;r<i;r++)t.push(n[r]?n[r].value:void 0);return t},f=function(n){return function(e){if(n.value=e,n.state=Eu,o++,o===n.len&&!a){var r=c(u);t(r)}}},s=function(n){return function(t){n.value=t,n.state=Du,o++,a||(a=!0,e(t))}},d=function(){var t=n[r],e={value:null,index:r,state:null,len:i};u.push(e),!function(n){t.then?t.then(f(n),s(n)):X.resolve(t).then(f(n),s(n))}(e)};r<i;r++)d()})},X.resolve=function(n){if(n instanceof X)return n;if(Ti.isFunc(n.then)){var t=n.then.bind(n);return new X(function(n,e){t(n,e)})}return new X(function(t){t(n)})},X.reject=function(n){return new X(function(t,e){e(n)})};var Du=0,Eu=1,Fu=2,Lu="function",Tu="object";X.prototype._state=Fu,X.prototype._pCount=0;var Nu=!1,Mu=2e3,Vu=[],Pu=!1,Ru=void 0,Bu=500,Ju="getUserInfo",Uu=void 0,Qu=function(){var n=function(){for(var n=1*new Date,t=0;n===1*new Date&&t<200;)t++;return n.toString(16)+t.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},e=function(){function n(n,t){var e=void 0,r=0;for(e=0;e<t.length;e++)r|=i[e]<<8*e;return n^r}var t=Yi,e=void 0,r=void 0,i=[],u=0;for(e=0;e<t.length;e++)r=t.charCodeAt(e),i.unshift(255&r),i.length>=4&&(u=n(u,i),i=[]);return i.length>0&&(u=n(u,i)),u.toString(16)};return function(){var r=(screen.height*screen.width).toString(16);return n()+"-"+t()+"-"+e()+"-"+r+"-"+n()}}(),Xu=void 0,Hu=br,Ku=5e3,$u="getEnv",zu=Re,Yu=!1,Gu=!1,Wu=!1,Zu=!1,no=[],to=0,eo=void 0,ro=Ti.now(),io=gn.prototype;io.send=function(n){var t=this,e=hn(t),r=Me+Ci(bu.stringify(e)),i=Ti.now(),u=5e3<i-ro;eo&&u&&t._mn===$u&&zu===Pe?n(0,eo):dn(Ve,r,function(t,e){
n(t,e)})};var uo={},oo=wr,ao=[],co=0,fo=1,so=2,lo="|",vo=3,po=150,ho=5e3,go=3500,mo=+new Date+Math.floor(1e5*Math.random()),_o=!1,yo=[],bo=[],wo=0,xo=/([a-fA-F0-9-]+)(\.\d+)/,So="_hc.v",ko=525600,qo="",Ao=/(dper|dianping|51ping)\.com/.test(Si),Oo=function(){var n=void 0;try{var t=document;if(t.querySelectorAll){var e=t.querySelectorAll("head script"),r=t.querySelectorAll("body script"),i=[];Vi.each(e,function(n){i.push(n)}),Vi.each(r,function(n){i.push(n)});for(var u=0;u<i.length;u++){var o=i[u].innerHTML,a=o.match(/\[['"]\s*_setPageId\s*['"]\s*,\s*(\d+)\s*\]/);if(a){n=a[1];break}}}}catch(c){}return function(){return n}}();et.prototype={constructor:et,set:function(n,t,e){var r=this,i=r.l,u=r.d,o=r.indexOf(n),a=i>0?u[i-1].scid+1:0,c={scid:a,cid:n,bid:t,sf:e};-1<o?u.splice(o,i-o,c):u.push(c),r.l=u.length,Su.set(Yr,{s:r.s,d:u})},indexOf:function(n){for(var t=this,e=t.d||[],r=0,i=e.length;r<i;r++){var u=e[r];if(u.cid===n)return r}return-1},toJSON:function(){var n=this.d;return n&&n.length?n:null}};var Io=null,jo="category",Co="setEnv",Do="setEvs",Eo="setTag",Fo="getTag",Lo="getSFrom",To=-1,No="val_bid",Mo="page",Vo="s_from",Po="lat",Ro="lng",Bo=[],Jo=xi.referrer,Uo=[],Qo=void 0,Xo=0,Ho=function(n,t,e){if(e){var r={},i={custom:r};r[t]=e,n=Ti.extend(!0,n||{},i)}return n},Ko=ut.prototype;Ko.set=function(n,t,e){var r=this,i=r.env;if(Ti.isObj(n))return void Pi(n,function(n,t){r.set(t,n)});if(i[n]=t,"utm"===n&&Ti.isObj(t)&&N(t),yr!==fn()||jt(n))Ti.isFunc(e)&&e(i,r);else{var u={},o=_t(i[jo]);u[n]=t,mn(o,Co,u,function(){Ti.isFunc(e)&&e(i,r)})}},Ko.get=function(n,t){var e=this;Ti.isFunc(t)&&t(e.env[n],e)},Ko.pageView=function(t,e){e=ct(e)||{};var r=void 0,i=this,u=i.opts.cid,o=e.cid||u,a=e.isauto||Oe,s=e.isAutoInit,d=e.reportStatus,l=u&&!(ot(i)||s)&&!at(),v=d===br||br===fn(),p=i.env;if(this._cpi=t,l&&!f()){var h=k(!0);r=v?xt(Xe,u,null,h):At.call(i,Xe,u,null,h),c(Ht)}if(u&&(ot(i)||at())||st(),i.opts.cid=o,v){var g=yt(i),m=Ot(Cu.getAll()),_=St(Qe,o,null,t,a);l&&r&&_.unshift(r);var y=It(g,_,m);this.send(y,{nm:Qe}),s||Xo++}else{var b=[At.call(i,Qe,o,null,t)];l&&r&&b.push(r),Vi.each(b,function(n){n.appnm=p.appnm}),mn(_t(p[jo]),Do,b,function(r,u){r?(sn(br),i.pageView(t,e),Bn(wi.href,"native-report-error",i.env.union_id,n(r))):s||Xo++})}i._ptpvs=s?Ie:Oe},Ko.pageDisappear=function(n,t){t=Ti.extend({},t);var e=this,r=t.cid||e.opts.cid,i=t.shouldStore;c(Xt);var u=k();if(n=Ti.extend(u,n),br===fn()||i){var o=yt(e),a=xt(Xe,r,null,n),f=Ot(Cu.getAll()),s=It(o,a,f);i&&Su.nt?(Ki()&&(s[ce]=zi()),Su.set(se,s)):e.send(s)}else{var d=this.env,l=[At.call(e,Xe,r,null,n)],v=_t(d[jo]);mn(v,Do,l,function(r,i){r&&(sn(br),e.pageDisappear(n,t))})}},Ko.systemCheck=function(n,t,e){e=Ti.extend({},e);var r=this,i=e.cid||r.opts.cid;if(br===fn()){var u=yt(r),o=St(Ke,i,n,t),a=Ot(Cu.getAll()),c=It(u,o,a);this.send(c)}else{var f=r.env,s=[At.call(r,Ke,i,n,t)],d=_t(f[jo]);mn(d,Do,s,function(i,u){i&&(sn(br),r.systemCheck(n,t,e))})}},Ko.moduleView=function(n,t,e){e=Ti.extend({},e);var r=this,i=r.opts.mvDelay||e.delay,u=e.cid||r.opts.cid;if(br===fn()){var o=yt(r),a=St($e,u,n,t),c=Ot(Cu.getAll()),f=void 0;i?(Ti.run(a,function(n){Uo.push(n)}),ye(function(){Uo.length&&(f=It(o,Uo,c),r.send(f),Uo=[])},i*_r)):(f=It(o,a,c),r.send(f))}else{var s=r.env,d=[At.call(r,$e,u,n,t)],l=_t(s[jo]);new Date;mn(l,Do,d,function(i,u){i&&(sn(br),r.moduleView(n,t,e))})}},Ko.moduleClick=function(n,t,e){e=Ti.extend({},e);var r=this,i=e.cid||r.opts.cid,u=e.sf;e&&e.isLeave&&c(Xt);var o=void 0,a=k(),f=e.withPageInfo&&Ti.isObj(r._cpi)?r._cpi:Ai;if(br===fn()){var s=yt(r);o=xt(He,i,n,t),f&&(o=lt(o,r._cpi));var d=kt(o),l=Ot(Cu.getAll()),v=It(s,d,l);if(e&&e.isLeave){var p=xt(Xe,i,Ai,a);v.evs.push(p)}nu&&u&&it().set(i,n,u),r.send(v,{nm:He})}else{var h=r.env,g={sf:u};r._cpi&&(g.cpi=r._cpi),o=At.call(r,He,i,n,t,null,g);var m=[o],_=_t(h[jo]);if(e&&e.isLeave){var y=At.call(r,Xe,i,null,a);m.push(y)}mn(_,Do,m,function(i,u){i&&(sn(br),r.moduleClick(n,t,e))})}},Ko.moduleEdit=function(n,t,e){e=Ti.extend({},e);var r=this,i=e.cid||r.opts.cid;if(br===fn()){var u=yt(r),o=St(ze,i,n,t),a=Ot(Cu.getAll()),c=It(u,o,a);this.send(c)}else{var f=this.env,s=[At.call(r,ze,i,n,t)],d=_t(f[jo]);mn(d,Do,s,function(i,u){i&&(sn(br),r.moduleEdit(n,t,e))})}},Ko.order=function(n,t,e){e=Ti.extend({},e);var r=this,i=e.cid||r.opts.cid;if(q(n,t),br===fn()){var u=yt(this),o=St(Ye,i,n,t),a=Ot(Cu.getAll()),c=It(u,o,a);this.send(c)}else{var f=this.env,s=[At.call(r,Ye,i,n,t)],d=_t(f[jo]);mn(d,Do,s,function(i,u){i&&(sn(br),r.order(n,t,e))})}},Ko.pay=function(n,t,e){e=Ti.extend({},e);var r=this,i=e.cid||r.opts.cid;if(q(n,t),br===fn()){var u=yt(r),o=St(Ge,i,n,t),a=Ot(Cu.getAll()),c=It(u,o,a);this.send(c,{cb:function(){Cu.clear()}}),r.clearTag()}else{var f=this.env,s=[At.call(r,Ge,i,n,t)],d=_t(f[jo]);mn(d,Do,s,function(i,u){i&&(sn(br),r.pay(n,t,e))})}},Ko.tag=function(n,t,e,r){var i=void 0,u=void 0,o=this.env,a=arguments,c=[],f=function(n){if(!Ti.isObj(n))return n;for(var t=n,e=0,r=c.length;e<r;e++){if(!t)return t;t=t[c[e]]}return t},s=function(){Vi.each(a,function(n){return!!Ti.isStr(n)&&void c.push(n)})},d=function(n,t,e){var i={};i[n]=t,u=_t(o[jo]),mn(u,Eo,i,function(n,t){r&&(e&&s(),r(n,f(t),!0))})},l=function(n){var t=Cu.getAll();n||s(),r&&r(0,f(t),!1)};if(Vi.each(a,function(n){Ti.isFunc(n)&&(r=n)}),Ti.isObj(n)){var v=this;Vi.each(n,function(n,t){v.tag(t,n)})}else Ti.isStr(n)&&Ti.isObj(t)?br!==fn()?(i=t,d(n,i,!0)):(Pi(t,function(t,e){Cu.set(n,e,t)}),l(!0)):(Ti.isObj(e)||Ti.isStr(e))&&vt(n)&&Ti.isStr(t)?br!==fn()?(i={},i[t]=e,d(n,i,!0)):(Cu.set(n,t,e),l(!0)):Ti.isFunc(n)||Ti.isFunc(t)||Ti.isStr(n)&&Ti.isStr(t)&&Ti.isFunc(e)?br!==fn()?(s(a),u=_t(o[jo]),mn(u,Fo,{},function(n,t){r&&r(n,f(t),!0)})):l():r&&r(To)},Ko.clearTag=function(n,t,e){var r=0;br===fn()?(Ti.isFunc(n)&&(e=n,n=Ai),Cu.clear(n,t),e&&e(0)):r=To,e&&e(r)},Ko.sfrom=function(n){var t=void 0,e=void 0,r=this.env;br!==fn()?(e=_t(r[jo]),mn(e,Lo,{},function(e,r){if(r){var i=r.data?r.data:r;t=Ti.isStr(i)?JSON.parse(i):i,n(e,t)}})):n(1,[])},Ko.send=function(n,t){var e=[];t=Ti.extend({cb:function(){}},t),Ti.run(n,function(n){Ki()&&(n[ce]=zi()),e.push(n)});var r=dt();r&&e.unshift(r),Jn(e,t)},Ko.getAll=function(){return Bo};var $o=Ft.prototype;$o.create=function(n,t){var e=this,r=Ti.extend({},e.env);r=Ti.extend(r,{category:n});var i=Ti.extend({isDefault:!1},e.opts);i=Ti.extend(i,t||{});var u=new ut(i,r);return e._t.push(u),t.isDefault&&(e._dt=u),u},$o.config=function(n,t){return Ai!==n&&(gi[n]=t),"cid"===n&&Mi(t)&&(this.opts.cid=t),gi[n]},$o._initPV=function(n,t){var e=this,r=e.config("pageValLab");n=Ti.extend(n,e.config("pageEnv")),Et(e,r,n,{isauto:Ie,reportStatus:br,cid:t,isAutoInit:!0})},$o.pageView=function(n,t,e){Et(this,n,t,e)},$o.moduleView=function(n,t,e){var r=this;r._dt.moduleView(n,t,e)},$o.systemCheck=function(n,t,e){var r=this;r._dt.systemCheck(n,t,e)},$o.moduleClick=function(n,t,e){var r=this;r._dt.moduleClick(n,t,e)},$o.moduleEdit=function(n,t,e){var r=this;r._dt.moduleEdit(n,t,e)},$o.order=function(n,t,e,r){var i=this;i._dt.order(n,Ct(e,t),r)},$o.pay=function(n,t,e,r){var i=this;i._dt.pay(n,Ct(e,t),r)},$o.pageDisappear=function(n,t){var e=this;e._dt.pageDisappear(n,t)},$o.tag=function(n,t,e,r){this._dt.tag(n,t,e,r)},$o.sfrom=function(n){this._dt.sfrom(n)},$o.clearTag=function(n,t,e){this._dt.clearTag(n,t,e)},$o.getAll=function(n){n&&n(this._t)},$o.getTracker=function(n,t){var e=Vi.find(this._t,function(t){return t.env.category===n});t&&t(e)},$o.get=function(n,t){this._dt.get(n,t)},$o.set=function(n,t,e){this._dt.set(n,t,e)};var zo=[],Yo=wr,Go=void 0,Wo=[[We,vr],[Ze,vr],[nr,lr],[tr,pr],[er,hr],[rr,gr]],Zo=Vi.reduce(Wo,function(n,t){return n[t[0]]=t[1],n},{}),na=[[ci,fr],[fi,sr]],ta=Vi.reduce(na,function(n,t){return n[t[0]]=t[1],n},{}),ea=Vi.reduce(["config",oi,ii,ui],function(n,t){return n[t]=!0,n},{}),ra=function(n){var t=n.split("."),e=void 0;return 2===t.length&&(n=t[1],e=t[0]),[n,e]},ia=function(n){var t=n.indexOf(".");return t>0&&(n=n.substr(t+1)),!!ea[n]},ua=function(n,t){var e=xi.getElementsByTagName("head")[0],r=xi.createElement("meta");r.setAttribute("name",n),r.setAttribute("content",t),e.appendChild(r)},oa=function(n,t){return n===ai?t?Zo[t]||dr:vr:n===ci||n===fi?ta[n]:dr},aa=function(n){var t={act:1,cid:1,val:1,lab:1,bid:1};return 1===t[n]},ca=function(n,t){return n=n||{},Pi(t,function(t,e){aa(e)?n["val_"+e]=t:n[e]=t}),n},fa=function(n){var t=n.val;return t&&(ca(n,t),delete n.val),n},sa=function(n,t,e){if(n&&!Ni(n)&&(n={custom:{_lab:n}}),!n&&e&&(n={}),e){var r=n[zr]=n[zr]||{};r[t]=e}return n},da=function(n,t,e){return n&&!Ni(n)&&(n={custom:{_lab:n}}),n&&(n[t]=e),n},la=function(n,t){var e=n[Hr],r=n[$r];if(t&&(r||e)){var i=e;e=r||{},i&&(e=sa(e||{},"_lab",i))}else!t&&r&&(Mi(r)&&(r={analyse_val:r}),e=da(e||{},"page",r));return Ai!==n[ur]&&(e=sa(e||{},"_act",n[ur])),Ai!==n[ir]&&(e=sa(e||{},"_et",n[ir])),Ai!==n[ar]&&(e=da(e||{},ar,n[ar])),Ai!==n[cr]&&(e=sa(e||{},"_el_id",n[cr])),e},va=function Oa(n,t){var e=Mt(n);n=e[0];var r=e[1],i=t[0],u=t[1];if(Vi.isArray(i))return Ri(i,function(t){return Oa(r?r+"."+n:n,[t,u])});var o=i.nm;i=fa(i);var a=ci===o,c=ai===o;if(a)return Nt.apply(null,t);var f=hr===o,s=gr===o,d=i[ir],l=i[ur],v=la(i,a);f||s||d||!c||!l?s||f?n=o:(n=oa(o,d),c||(v=sa(v||{},"_nm",o))):n=vr;var p=i[or];return p&&(u=u||{},u.cid=p),r&&sa(v,"_logchannel",r),v=v||{},sa(v,"_api","v3"),n===hr||n===gr?[n,i[Kr],v.order_id,v,u]:[n,i[Kr],v,u]},pa=function(n,t){var e=Mt(n),r=e[1];n=fr;var i=t[1],u=t[2],o=r?{custom:{_logchannel:r}}:Ai,a={};if(Mi(i))Ni(u)?o=u:Mi(u)&&(o=sa({},"analyse_val",u));else if(Ni(i)){a=ca(a,i),u=a[$r],Mi(u)&&(u=sa({},"analyse_val",u)),o=u;var c=a[Hr];c&&sa(o,"_lab",c),i=a[or]}var f=void 0;return i&&(f={},f.cid=i),o=sa(o,"_api","v3"),[n,o,Ai,f]},ha=function(n,t){var e=t[0],r=t[1];if(e&&(e=e.replace(/^data_sdk_/i,""),ua("lx:category",e)),Ni(r))return["set",r]},ga=function(n,t,e){return"appnm"===t&&Mi(e)?void ua("lx:appnm",e):"cid"===t&&Mi(e)?(ua("lx:cid",e),[n,t,e]):[n,t,e]},ma=function Ia(){var n=Ia.f;if(!n){var t="lx:autopv",e="off";ua(t,e),Ia.f=!0}},_a=function(n){if(!n||!n.length)return n;try{var t=n[0];ia(t)&&(n=Vi.slice(n,1),ya(t)?(Hi(3),ma(),n=va(t,n)):ba(t)?(Hi(3),ma(),n=pa(t,n)):wa(t)?(Hi(3),ma(),n=ha(t,n)):xa(t,n[0],n[1])?(ma(),n=ga(t,n[0],n[1])):n.unshift(t))}catch(e){Li(e)}return n},ya=function(n){var t=n.indexOf(".");return t>0&&(n=n.substr(t+1)),n===oi},ba=function(n){var t=n.indexOf(".");return t>0&&(n=n.substr(t+1)),n===ii},wa=function(n){return n===ui},xa=function(n,t){var e=!1;return"cid"!==t&&"appnm"!==t||(Hi(3),e=!0),"config"===n&&e},Sa=void 0,ka=void 0;Rt()}();